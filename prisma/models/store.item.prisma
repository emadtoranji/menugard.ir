model StoreItem {
  id            String                        @id @default(uuid()) @db.Uuid
  userId        String?                       @db.Uuid
  storeId       String                        @db.Uuid
  category      StoreItemsCategoriesKey

  title         String                        @db.VarChar(128)
  description   String?                       @db.VarChar(512)

  price           Float                       @default(0)
  discountPercent Float?                      @default(0)

  imageUrl      String?                       @db.VarChar(256)

  isAvailable   Boolean                       @default(true)
  isActive      Boolean                       @default(true)

  createdAt     DateTime                      @default(now())
  updatedAt     DateTime                      @updatedAt

  user          User?    @relation(fields: [userId], references: [id], onDelete: Cascade)
  store         Store    @relation(fields: [storeId], references: [id], onDelete: Cascade)

  options StoreItemOption[]
}

model StoreItemOption {
  id                    String        @id @default(uuid()) @db.Uuid
  userId                String?       @db.Uuid
  itemId                String        @db.Uuid

  title                 String        @db.VarChar(64)
  isRequired            Boolean       @default(false)
  minSelect             Int           @default(0)
  maxSelect             Int           @default(1)

  price                 Float         @default(0)
  discountPercent       Int           @default(0)
  isActive              Boolean       @default(true)

  createdAt             DateTime      @default(now())
  updatedAt             DateTime      @updatedAt

  user                  User?         @relation(fields: [userId], references: [id], onDelete: Cascade)
  item                  StoreItem     @relation(fields: [itemId], references: [id], onDelete: Cascade)
}

